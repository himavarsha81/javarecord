<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Unit 2 — Servlets &amp; Dynamic Web Programming</title>

  <!-- Prism for syntax highlighting -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet"/>
  <style>
    :root{--accent:#0f62fe;--bg:#f6f7fb}
    body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;background:var(--bg);color:#0b2545;margin:0;padding-bottom:40px}
    header{background:linear-gradient(90deg,var(--accent),#2fa8ff);color:#fff;padding:18px 0}
    .container{max-width:1100px;margin:24px auto;padding:0 18px}
    .card{background:#fff;padding:18px;border-radius:12px;box-shadow:0 8px 24px rgba(16,42,67,0.06);margin-bottom:18px}
    nav a{color:#fff;text-decoration:none;margin-right:12px}
    h1,h2{margin:6px 0}
    pre{border-radius:8px;overflow:auto;padding:14px}
    .meta{font-size:0.95rem;color:#334155;margin-bottom:8px}
    .output{background:#0b243f;color:#e6f0ff;padding:12px;border-radius:8px;white-space:pre-wrap}
    .back{display:inline-block;margin-top:12px;padding:8px 12px;background:#eef6ff;border-radius:8px;color:var(--accent);text-decoration:none}
    .section-title{display:flex;align-items:center;gap:12px}
    .note{font-size:0.95rem;color:#6b7280}
  </style>
</head>
<body>
  <header>
    <div class="container">
      <nav><a href="index.html">⬅ Back to Home</a></nav>
      <h1>UNIT 2 — SERVLETS &amp; DYNAMIC WEB PROGRAMMING</h1>
      <div class="meta">Unit 2 Topics (visual): HTTP Servlet, GenericServlet, Servlet interface, forms, MySQL examples, online order, reading client data, responses.</div>
    </div>
  </header>

  <main class="container">

    <section class="card" id="overview">
      <h2 class="section-title">Steps to run a Servlet</h2>
      <ol>
        <li>Install JDK and an IDE (NetBeans/Eclipse/IntelliJ).</li>
        <li>Install Apache Tomcat and configure in IDE.</li>
        <li>Create Dynamic Web Project (Web Application).</li>
        <li>Add servlet class under <code>src</code> (package).</li>
        <li>Use <code>web.xml</code> or <code>@WebServlet</code> annotation for mapping.</li>
        <li>Build and deploy (Run on Server → choose Tomcat).</li>
        <li>Access servlet via URL: <code>http://localhost:8080/YourApp/YourServlet</code></li>
      </ol>

      <h3>Sample web.xml (optional)</h3>
      <pre class="language-xml"><code>&lt;web-app&gt;
  &lt;servlet&gt;
    &lt;servlet-name&gt;HelloServlet&lt;/servlet-name&gt;
    &lt;servlet-class&gt;com.example.HelloServlet&lt;/servlet-class&gt;
  &lt;/servlet&gt;
  &lt;servlet-mapping&gt;
    &lt;servlet-name&gt;HelloServlet&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/hello&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;
&lt;/web-app&gt;</code></pre>

      <p class="note">Open <code>http://localhost:8080/YourApp/hello</code> after deployment to see the servlet output.</p>
      <div class="output">(Access done by: Hima Varsha)</div>
    </section>

    <section class="card" id="http-servlet">
      <h2 class="section-title">HTTP Servlet — Example (HttpServlet, doGet)</h2>

      <h3>Java Servlet code</h3>
      <pre class="language-java"><code>import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;

public class HelloServlet extends HttpServlet {
    protected void doGet(HttpServletRequest req, HttpServletResponse resp)
            throws ServletException, IOException {
        resp.setContentType("text/html");
        PrintWriter out = resp.getWriter();
        out.println("&lt;html&gt;&lt;body&gt;");
        out.println("&lt;h2&gt;Hello from HelloServlet&lt;/h2&gt;");
        out.println("&lt;p&gt;Displayed by: Hima Varsha (Varshi)&lt;/p&gt;");
        out.println("&lt;/body&gt;&lt;/html&gt;");
    }
}</code></pre>

      <h3>web.xml mapping (if not using annotation)</h3>
      <pre class="language-xml"><code>&lt;servlet&gt;
  &lt;servlet-name&gt;HelloServlet&lt;/servlet-name&gt;
  &lt;servlet-class&gt;HelloServlet&lt;/servlet-class&gt;
&lt;/servlet&gt;
&lt;servlet-mapping&gt;
  &lt;servlet-name&gt;HelloServlet&lt;/servlet-name&gt;
  &lt;url-pattern&gt;/hello&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;</code></pre>

      <h3>Sample Output (in browser)</h3>
      <div class="output">
Hello from HelloServlet
Displayed by: Hima Varsha (Varshi)
      </div>
    </section>

    <section class="card" id="generic-servlet">
      <h2 class="section-title">GenericServlet — Example</h2>

      <h3>Java code (GenericServlet)</h3>
      <pre class="language-java"><code>import java.io.*;
import javax.servlet.*;

public class MyGenericServlet extends GenericServlet {
    public void service(ServletRequest req, ServletResponse res)
            throws ServletException, IOException {
        res.setContentType("text/plain");
        PrintWriter out = res.getWriter();
        out.println("Hello from GenericServlet");
        out.println("Served by: Hima Varsha");
    }
}</code></pre>

      <h3>Sample Output</h3>
      <div class="output">Hello from GenericServlet
Served by: Hima Varsha</div>

      <p class="note">GenericServlet is protocol-independent; prefer <code>HttpServlet</code> for HTTP-based web apps.</p>
    </section>

    <section class="card" id="servlet-interface">
      <h2 class="section-title">Servlet Interface — Minimal Example</h2>

      <h3>Java code (implements Servlet)</h3>
      <pre class="language-java"><code>import java.io.*;
import javax.servlet.*;

public class MinimalServlet implements Servlet {
    ServletConfig config;
    public void init(ServletConfig config) { this.config = config; }
    public ServletConfig getServletConfig() { return this.config; }
    public void service(ServletRequest req, ServletResponse res)
            throws ServletException, IOException {
        res.setContentType("text/plain");
        PrintWriter out = res.getWriter();
        out.println("Minimal servlet implementation");
        out.println("By: Hima Varsha");
    }
    public String getServletInfo() { return "MinimalServlet"; }
    public void destroy() {}
}</code></pre>

      <h3>Output</h3>
      <div class="output">Minimal servlet implementation
By: Hima Varsha</div>
    </section>

    <section class="card" id="html-form">
      <h2 class="section-title">HTML &amp; Servlet Example (Form submits to servlet)</h2>

      <h3>HTML (form.html)</h3>
      <pre class="language-html"><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;
  &lt;h2&gt;Login Form&lt;/h2&gt;
  &lt;form method="post" action="login"&gt;
    Username: &lt;input name="username" /&gt;&lt;br&gt;
    Password: &lt;input type="password" name="password" /&gt;&lt;br&gt;
    &lt;input type="submit" value="Login" /&gt;
  &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

      <h3>Servlet (LoginServlet.java)</h3>
      <pre class="language-java"><code>import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;

public class LoginServlet extends HttpServlet {
    protected void doPost(HttpServletRequest req, HttpServletResponse resp)
            throws ServletException, IOException {
        String user = req.getParameter("username");
        String pass = req.getParameter("password");

        resp.setContentType("text/html");
        PrintWriter out = resp.getWriter();

        if("varshi".equalsIgnoreCase(user) && "123".equals(pass)) {
            out.println("&lt;h3&gt;Login Successful&lt;/h3&gt;");
            out.println("&lt;p&gt;Welcome, " + user + " (Hima Varsha)&lt;/p&gt;");
        } else {
            out.println("&lt;h3&gt;Login Failed&lt;/h3&gt;");
        }
    }
}</code></pre>

      <h3>Sample Output (after submit)</h3>
      <div class="output">
Login Successful
Welcome, varshi (Hima Varsha)
      </div>
    </section>

    <section class="card" id="servlet-mysql">
      <h2 class="section-title">Servlet &amp; MySQL Example (Insert + Display)</h2>

      <h3>SQL</h3>
      <pre class="language-sql"><code>CREATE DATABASE IF NOT EXISTS webapp;
USE webapp;

CREATE TABLE IF NOT EXISTS users (
  id INT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(100),
  email VARCHAR(100)
);</code></pre>

      <h3>HTML form (userForm.html)</h3>
      <pre class="language-html"><code>&lt;form method="post" action="userAdd"&gt;
  Name: &lt;input name="name" /&gt;&lt;br&gt;
  Email: &lt;input name="email" /&gt;&lt;br&gt;
  &lt;input type="submit" value="Add User" /&gt;
&lt;/form&gt;</code></pre>

      <h3>Servlet (UserAddServlet.java)</h3>
      <pre class="language-java"><code>import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;
import java.sql.*;

public class UserAddServlet extends HttpServlet {
    protected void doPost(HttpServletRequest req, HttpServletResponse resp)
            throws ServletException, IOException {
        String name = req.getParameter("name");
        String email = req.getParameter("email");

        try {
            Class.forName("com.mysql.jdbc.Driver");
            Connection con = DriverManager.getConnection(
                "jdbc:mysql://localhost:3306/webapp", "root", "");

            PreparedStatement ps = con.prepareStatement(
                "INSERT INTO users (name,email) VALUES (?,?)"
            );
            ps.setString(1, name);
            ps.setString(2, email);
            ps.executeUpdate();
            ps.close();
            con.close();

            resp.setContentType("text/html");
            PrintWriter out = resp.getWriter();
            out.println("&lt;h3&gt;User added successfully&lt;/h3&gt;");
            out.println("&lt;p&gt;Added by Hima Varsha&lt;/p&gt;");
        } catch (Exception e) {
            throw new ServletException(e);
        }
    }
}</code></pre>

      <h3>Sample Output (in browser)</h3>
      <div class="output">User added successfully
Added by Hima Varsha</div>
    </section>

    <section class="card" id="online-order">
      <h2 class="section-title">Online Order Example (simple)</h2>

      <h3>order.html</h3>
      <pre class="language-html"><code>&lt;form method="post" action="order"&gt;
  Product: &lt;input name="product" /&gt;&lt;br&gt;
  Quantity: &lt;input name="qty" type="number" /&gt;&lt;br&gt;
  &lt;input type="submit" value="Place Order" /&gt;
&lt;/form&gt;</code></pre>

      <h3>OrderServlet.java</h3>
      <pre class="language-java"><code>import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;

public class OrderServlet extends HttpServlet {
    protected void doPost(HttpServletRequest req, HttpServletResponse resp)
            throws ServletException, IOException {
        String product = req.getParameter("product");
        int qty = Integer.parseInt(req.getParameter("qty"));

        resp.setContentType("text/html");
        PrintWriter out = resp.getWriter();
        out.println("&lt;h3&gt;Order Placed&lt;/h3&gt;");
        out.println("&lt;p&gt;Product: " + product + "&lt;br&gt;Quantity: " + qty + "&lt;/p&gt;");
        out.println("&lt;p&gt;Processed by: Hima Varsha&lt;/p&gt;");
    }
}</code></pre>

      <h3>Sample Output</h3>
      <div class="output">
Order Placed
Product: Mobile
Quantity: 2
Processed by: Hima Varsha
      </div>
    </section>

    <section class="card" id="multiple-servlets">
      <h2 class="section-title">Multiple Servlets Example</h2>

      <h3>TimeServlet</h3>
      <pre class="language-java"><code>import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;
import java.util.Date;

public class TimeServlet extends HttpServlet {
    protected void doGet(HttpServletRequest req, HttpServletResponse resp)
            throws ServletException, IOException {
        resp.setContentType("text/plain");
        PrintWriter out = resp.getWriter();
        out.println("Current server time: " + new Date());
        out.println("Served by: Varshi");
    }
}</code></pre>

      <h3>HelloNameServlet</h3>
      <pre class="language-java"><code>import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;

public class HelloNameServlet extends HttpServlet {
    protected void doGet(HttpServletRequest req, HttpServletResponse resp)
            throws ServletException, IOException {
        String name = req.getParameter("name");
        if (name == null) name = "Guest";
        resp.setContentType("text/html");
        PrintWriter out = resp.getWriter();
        out.println("&lt;h3&gt;Hello " + name + "&lt;/h3&gt;");
        out.println("&lt;p&gt;From: Hima Varsha&lt;/p&gt;");
    }
}</code></pre>

      <h3>Sample Output</h3>
      <div class="output">
Current server time: Tue Jul 28 10:00:00 IST 2025
Served by: Varshi

and

Hello John
From: Hima Varsha
      </div>
    </section>

    <section class="card" id="greet-get">
      <h2 class="section-title">Servlet — HTML Example (GET request)</h2>

      <h3>HTML link</h3>
      <pre class="language-html"><code>&lt;a href="greet?name=Varshi"&gt;Greet Me&lt;/a&gt;</code></pre>

      <h3>GreetServlet</h3>
      <pre class="language-java"><code>import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;

public class GreetServlet extends HttpServlet {
    protected void doGet(HttpServletRequest req, HttpServletResponse resp)
            throws ServletException, IOException {
        String name = req.getParameter("name");
        resp.setContentType("text/html");
        PrintWriter out = resp.getWriter();
        out.println("&lt;h2&gt;Hello " + (name == null ? "Guest" : name) + "&lt;/h2&gt;");
        out.println("&lt;p&gt;Greeting by: Hima Varsha&lt;/p&gt;");
    }
}</code></pre>

      <h3>Sample Output</h3>
      <div class="output">
Hello Varshi
Greeting by: Hima Varsha
      </div>
    </section>

    <section class="card" id="contact-post">
      <h2 class="section-title">Reading data from client &amp; sending response (doPost example)</h2>

      <h3>contact.html</h3>
      <pre class="language-html"><code>&lt;form method="post" action="contact"&gt;
  Name: &lt;input name="name" /&gt;&lt;br&gt;
  Message: &lt;textarea name="msg"&gt;&lt;/textarea&gt;&lt;br&gt;
  &lt;input type="submit" value="Send" /&gt;
&lt;/form&gt;</code></pre>

      <h3>ContactServlet.java</h3>
      <pre class="language-java"><code>import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;

public class ContactServlet extends HttpServlet {
    protected void doPost(HttpServletRequest req, HttpServletResponse resp)
            throws ServletException, IOException {
        String name = req.getParameter("name");
        String msg = req.getParameter("msg");

        resp.setContentType("text/html");
        PrintWriter out = resp.getWriter();
        out.println("&lt;h3&gt;Message Received&lt;/h3&gt;");
        out.println("&lt;p&gt;Name: " + name + "&lt;br&gt;Message: " + msg + "&lt;/p&gt;");
        out.println("&lt;p&gt;Response prepared by: Hima Varsha&lt;/p&gt;");
    }
}</code></pre>

      <h3>Sample Output</h3>
      <div class="output">
Message Received
Name: Varshi
Message: I have an assignment
Response prepared by: Hima Varsha
      </div>
    </section>

    <section class="card" id="notes">
      <h2 class="section-title">Additional Notes &amp; Tips</h2>
      <ul>
        <li>Place servlet classes inside the correct package and build WAR if deploying.</li>
        <li>For JDBC inside servlets: avoid opening a new DB connection for each request in production — use connection pooling (DataSource).</li>
        <li>Always close PreparedStatement, ResultSet, and Connection (or use try-with-resources).</li>
        <li>If using Tomcat 9+ and MySQL Connector/J 8.x use driver <code>com.mysql.cj.jdbc.Driver</code> and add timezone parameter if needed.</li>
      </ul>
      <p class="note">All example outputs above now use your names: <strong>Hima Varsha</strong> / <strong>Varshi</strong> / <strong>Chinta</strong>.</p>
    </section>

    <a class="back" href="index.html">⬅ Back to Home</a>
  </main>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
</body>
</html>
